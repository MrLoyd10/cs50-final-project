{% extends "layout.html" %} 

{% block title %} Student Manager {% endblock %} 

{% block main %}
<div class="container-lg mt-4">

  <div class="d-flex m-4">
    <button class="btn btn-success w-100" type="button" data-bs-toggle="collapse" data-bs-target="#form_create_account" aria-expanded="false" aria-controls="form_create_account" id="btn_add_student">
      <div class="d-flex justify-content-between align-items-center">
        <p class="flex-fill mb-0">Add student</p>
        <i class="bi bi-chevron-double-down"></i>
      </div>
    </button>
  </div>

  <form class="text-white row collapse" id="form_create_account" action="/create_student" method="post">
    <div class="col-md-4">
      <div class="mx-4">
        <div class="mb-3">
          <label for="lname" class="form-label">
            Last name <i class="bi bi-asterisk" style="color: red;"></i>
          </label>
          <input type="text" class="form-control form-control-sm" id="lname" autocomplete="off" required name="lname">
        </div>
        <div class="mb-3">
          <label for="fname" class="form-label">
            First name <i class="bi bi-asterisk" style="color: red;"></i>
          </label>
          <input type="text" class="form-control form-control-sm" id="fname" autocomplete="off" required name="fname">
        </div>  
        <div class="mb-3">
          <label for="mname" class="form-label">Middle name</label>
          <input type="text" class="form-control form-control-sm" id="mname" autocomplete="off" name="mname">
        </div>
      </div>
    </div>
    
    <div class="col-md-8">
      <div class="row">

        <div class="col-6">
          <div class="mx-4">
            <div class="mb-3">
              <label for="grade_level" class="form-label">
                Grade <i class="bi bi-asterisk" style="color: red;"></i>
              </label>
              <select class="form-select form-select-sm" id="grade_level" required name="grade_level">
                <option selected disabled value="">Select Grade</option>
                <option value="Kinder">Kinder</option>
                <option value="Grade 1">Grade 1</option>
                <option value="Grade 2">Grade 2</option>
                <option value="Grade 3">Grade 3</option>
                <option value="Grade 4">Grade 4</option>
                <option value="Grade 5">Grade 5</option>
                <option value="Grade 6">Grade 6</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="birthdate" class="form-label">Birthdate</label>
              <input type="date" class="form-control form-control-sm" id="birthdate" name="b-day">
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="mx-4">
            <div class="mb-3">
              <label for="parent_guardian" class="form-label">Parent/Guardian</label>
              <input type="text" class="form-control form-control-sm" id="parent_guardian" autocomplete="off" name="parent_guardian">
            </div>
            <div class="mb-3">
              <label for="contact" class="form-label">Contact</label>
              <input type="number" class="form-control form-control-sm" id="contact" autocomplete="off" min="0" name="contact">
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="mx-4 d-flex justify-content-center align-items-end" style="height: 62.983px;">
            <button type="submit" class="btn btn-primary w-75">Submit</button>
          </div>
        </div>
      </div>
    </div>
  </form>
  <hr class="border-3" style="color: yellow;">

  <div class="d-flex flex-column">
    <h1 class="text-white fs-5">Student Information</h1>

    <div class="m-3 table-responsive-lg">
      <table class="table table-striped table-dark table-bordered">
        <thead class="table-info">
          <tr class="text-nowrap">
            <th scope="col">#</th>
            <th scope="col">Last</th>
            <th scope="col">First</th>
            <th scope="col">Middle</th>
            <th scope="col">Grade Lvl</th>
            <th scope="col">Birthdate</th>
            <th scope="col">Parent/Guardian</th>
            <th scope="col">Contact No.</th>
          </tr>
        </thead>
        <tbody class="table-group-divider" style="border-top-color: yellow;">
          {% if students %}
            {% for student in students %}
              <tr>
                  <th scope="row">{{ loop.index }}</th>
                  <td>{{ student['last_name'] }}</td>
                  <td>{{ student['first_name'] }}</td>
                  <td>{{ student['middle_name'] }}</td>
                  <td>{{ student['grade_level'] }}</td>
                  <td>{{ student['birthday'] }}</td>
                  <td>{{ student['guardian'] }}</td>
                  <td>{{ student['contact'] }}</td>
              </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="8" class="text-center">No student list available</td>
            </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
    
  </div>


  <script src="{{ url_for('static', filename='script/student_manager.js' )}}"></script>
</div>
{% endblock %}
